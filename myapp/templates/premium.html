{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="page-title">
    {% if request.user.userprofile.is_premium %}
        Your Premium Subscription
    {% else %}
        Upgrade to BoltML Premium
    {% endif %}
</div>

<div class="premium-container">
    {% if request.user.userprofile.is_premium %}
        <!-- Premium Status Card -->
        <div class="card premium-status-card">
            <div class="premium-gradient-bg"></div>
            
            <div class="premium-card-content">
                <div class="premium-emoji">ðŸŒŸ</div>
                <h2 class="premium-status-title">Active Premium Subscription</h2>
                
                <div class="premium-membership-info">
                    <div class="premium-since">
                        Member since {{ request.user.userprofile.premium_since|date:"F j, Y" }}
                    </div>
                    <div class="premium-next-billing">
                        Next billing date: {{ request.user.userprofile.premium_since|date:"F j, Y" }}
                    </div>
                </div>
                
                <!-- Cancel Subscription Button -->
                <button data-action="cancel" class="cancel-subscription-btn">
                    Cancel Subscription
                </button>
            </div>
        </div>
    {% else %}
        <!-- Premium Plan Card -->
        <div class="card premium-status-card">
            <div class="premium-gradient-bg"></div>
            
            <div class="premium-card-content">
                <h2 class="premium-status-title">Premium Plan</h2>
                
                <!-- Price -->
                <div class="premium-membership-info">
                    <div class="premium-plan-price">
                        <span class="premium-price-currency">$</span>10
                        <span class="premium-price-period">/month</span>
                    </div>
                </div>
                
                <!-- Features List -->
                <ul class="premium-features-list">
                    <li class="premium-feature-item">
                        <span class="premium-feature-check">âœ“</span>
                        Advanced Feature Engineering
                    </li>
                    <li class="premium-feature-item">
                        <span class="premium-feature-check">âœ“</span>
                        Hyperparameter Optimization
                    </li>
                    <li class="premium-feature-item">
                        <span class="premium-feature-check">âœ“</span>
                        Ensemble Methods
                    </li>
                    <li class="premium-feature-item">
                        <span class="premium-feature-check">âœ“</span>
                        Cross-validation
                    </li>
                    <li class="premium-feature-item">
                        <span class="premium-feature-check">âœ“</span>
                        Priority Support
                    </li>
                </ul>
                
                <!-- Upgrade Button -->
                <button data-action="upgrade" class="upgrade-premium-btn">
                    Upgrade Now
                </button>
            </div>
        </div>
    {% endif %}

    <!-- Features Grid -->
    {% if not request.user.userprofile.is_premium %}
    <div class="premium-features-grid">
        <h2 class="premium-features-title">Premium Features</h2>
        
        <div class="features-grid-container">
            <!-- Feature 1 -->
            <div class="card feature-grid-card">
                <div class="premium-gradient-bg"></div>
                <div class="premium-card-content">
                    <div class="feature-grid-emoji">ðŸš€</div>
                    <h3 class="feature-grid-title">Advanced Feature Engineering</h3>
                    <p class="feature-grid-description">Automatically discover and create optimal features from your data to improve model performance.</p>
                </div>
            </div>

            <!-- Feature 2 -->
            <div class="card feature-grid-card">
                <div class="premium-gradient-bg"></div>
                <div class="premium-card-content">
                    <div class="feature-grid-emoji">âš¡</div>
                    <h3 class="feature-grid-title">Hyperparameter Optimization</h3>
                    <p class="feature-grid-description">Find the perfect model settings automatically using advanced optimization techniques.</p>
                </div>
            </div>

            <!-- Feature 3 -->
            <div class="card feature-grid-card">
                <div class="premium-gradient-bg"></div>
                <div class="premium-card-content">
                    <div class="feature-grid-emoji">ðŸŽ¯</div>
                    <h3 class="feature-grid-title">Ensemble Methods</h3>
                    <p class="feature-grid-description">Combine multiple models to achieve higher accuracy and better predictions.</p>
                </div>
            </div>

            <!-- Feature 4 -->
            <div class="card feature-grid-card">
                <div class="premium-gradient-bg"></div>
                <div class="premium-card-content">
                    <div class="feature-grid-emoji">ðŸ“Š</div>
                    <h3 class="feature-grid-title">Cross-validation</h3>
                    <p class="feature-grid-description">Ensure your model's reliability with advanced validation techniques.</p>
                </div>
            </div>
        </div>
    </div>
    {% endif %}
</div>

{% endblock %}

{% block extra_js %}
<script>
    document.addEventListener('DOMContentLoaded', function() {
        const upgradeBtn = document.querySelector('button[data-action="upgrade"]');
        if (upgradeBtn) {
            upgradeBtn.addEventListener('click', async function() {
                alert('Premium upgrade feature coming soon! Please check back later.');
            });
        }

        const cancelBtn = document.querySelector('button[data-action="cancel"]');
        if (cancelBtn) {
            cancelBtn.addEventListener('click', function() {
                if (confirm('Are you sure you want to cancel your premium subscription? You will lose access to premium features at the end of your billing period.')) {
                    alert('Subscription cancellation feature coming soon! Please contact support to cancel your subscription.');
                }
            });
        }
    });
</script>
{% endblock %} 